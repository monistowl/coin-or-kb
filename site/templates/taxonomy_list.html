{% extends "base.html" %}

{% block title %}{{ taxonomy.name | title }} - {{ config.title }}{% endblock %}

{% block content %}
<article class="taxonomy-list">
    <header>
        <h1>{{ taxonomy.name | title }}</h1>
        <p>Cross-cutting index of {{ taxonomy.name }} across all libraries</p>
    </header>

    <section class="terms-section">
        <ul class="terms-grid">
        {% for term in terms %}
            <li class="term-card">
                <a href="{{ term.permalink }}">
                    <h3>{{ term.name | title | replace(from="-", to=" ") }}</h3>
                    <span class="count">{{ term.pages | length }} implementation{% if term.pages | length != 1 %}s{% endif %}</span>
                </a>
            </li>
        {% endfor %}
        </ul>
    </section>
</article>
{% endblock %}

{% block extra_css %}
<style>
.taxonomy-list header {
    margin-bottom: 2rem;
    border-bottom: 2px solid var(--accent);
    padding-bottom: 1rem;
}

.taxonomy-list header p {
    color: var(--text-muted);
}

.terms-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
    list-style: none;
    margin: 0;
    padding: 0;
}

.term-card {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: 8px;
    transition: border-color 0.2s;
}

.term-card:hover {
    border-color: var(--accent-light);
}

.term-card a {
    display: block;
    padding: 1rem;
    text-decoration: none;
    color: inherit;
}

.term-card h3 {
    color: var(--accent-light);
    margin: 0 0 0.5rem;
    font-size: 1rem;
}

.term-card .count {
    color: var(--text-muted);
    font-size: 0.85rem;
}
</style>
{% endblock %}
